import{r as n,Y as ve,_ as K,Z as w,$ as de,p as q,a0 as ae,v as D,a1 as pe,a2 as me,a3 as z,O as W,a4 as Ae}from"./index-CfIzPxVU.js";import{K as be}from"./KeyCode-CDH7NaE-.js";import{p as Le}from"./pickAttrs-CNHWqOR7.js";var Ie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},Me=function(o,l){return n.createElement(ve,K({},o,{ref:l,icon:Ie}))},Ue=n.forwardRef(Me),_e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},Pe=function(o,l){return n.createElement(ve,K({},o,{ref:l,icon:_e}))},Be=n.forwardRef(Pe),we=n.forwardRef(function(e,o){var l=e.prefixCls,i=e.style,f=e.className,C=e.duration,h=C===void 0?4.5:C,R=e.eventKey,A=e.content,g=e.closable,_=e.closeIcon,b=_===void 0?"x":_,v=e.props,m=e.onClick,L=e.onNoticeClose,p=e.times,d=e.hovering,F=n.useState(!1),I=w(F,2),E=I[0],N=I[1],S=d||E,s=function(){L(R)},k=function(u){(u.key==="Enter"||u.code==="Enter"||u.keyCode===be.ENTER)&&s()};n.useEffect(function(){if(!S&&h>0){var r=setTimeout(function(){s()},h*1e3);return function(){clearTimeout(r)}}},[h,S,p]);var a=n.useMemo(function(){return de(g)==="object"&&g!==null?g:g?{closeIcon:b}:{}},[g,b]),t=Le(a,!0),c="".concat(l,"-notice");return n.createElement("div",K({},v,{ref:o,className:q(c,f,ae({},"".concat(c,"-closable"),g)),style:i,onMouseEnter:function(u){var y;N(!0),v==null||(y=v.onMouseEnter)===null||y===void 0||y.call(v,u)},onMouseLeave:function(u){var y;N(!1),v==null||(y=v.onMouseLeave)===null||y===void 0||y.call(v,u)},onClick:m}),n.createElement("div",{className:"".concat(c,"-content")},A),g&&n.createElement("a",K({tabIndex:0,className:"".concat(c,"-close"),onKeyDown:k,"aria-label":"Close"},t,{onClick:function(u){u.preventDefault(),u.stopPropagation(),s()}}),a.closeIcon))}),ye=D.createContext({}),Qe=function(o){var l=o.children,i=o.classNames;return D.createElement(ye.Provider,{value:{classNames:i}},l)},se=8,le=3,ue=16,Fe=function(o){var l={offset:se,threshold:le,gap:ue};if(o&&de(o)==="object"){var i,f,C;l.offset=(i=o.offset)!==null&&i!==void 0?i:se,l.threshold=(f=o.threshold)!==null&&f!==void 0?f:le,l.gap=(C=o.gap)!==null&&C!==void 0?C:ue}return[!!o,l]},He=["className","style","classNames","styles"],Te=function(o){var l=o.configList,i=o.placement,f=o.prefixCls,C=o.className,h=o.style,R=o.motion,A=o.onAllNoticeRemoved,g=o.onNoticeClose,_=o.stack,b=n.useContext(ye),v=b.classNames,m=n.useRef({}),L=n.useState(null),p=w(L,2),d=p[0],F=p[1],I=n.useState([]),E=w(I,2),N=E[0],S=E[1],s=l.map(function(x){return{config:x,key:String(x.key)}}),k=Fe(_),a=w(k,2),t=a[0],c=a[1],r=c.offset,u=c.threshold,y=c.gap,P=t&&(N.length>0||s.length<=u),Y=typeof R=="function"?R(i):R;return n.useEffect(function(){t&&N.length>1&&S(function(x){return x.filter(function(H){return s.some(function(G){var Z=G.key;return H===Z})})})},[N,s,t]),n.useEffect(function(){var x;if(t&&m.current[(x=s[s.length-1])===null||x===void 0?void 0:x.key]){var H;F(m.current[(H=s[s.length-1])===null||H===void 0?void 0:H.key])}},[s,t]),D.createElement(pe,K({key:i,className:q(f,"".concat(f,"-").concat(i),v==null?void 0:v.list,C,ae(ae({},"".concat(f,"-stack"),!!t),"".concat(f,"-stack-expanded"),P)),style:h,keys:s,motionAppear:!0},Y,{onAllRemoved:function(){A(i)}}),function(x,H){var G=x.config,Z=x.className,Ce=x.style,ge=x.index,re=G,J=re.key,Ne=re.times,M=String(J),O=G,he=O.className,ke=O.style,U=O.classNames,B=O.styles,xe=me(O,He),X=s.findIndex(function(V){return V.key===M}),Q={};if(t){var j=s.length-1-(X>-1?X:ge-1),ie=i==="top"||i==="bottom"?"-50%":"0";if(j>0){var $,ee,te;Q.height=P?($=m.current[M])===null||$===void 0?void 0:$.offsetHeight:d==null?void 0:d.offsetHeight;for(var ce=0,ne=0;ne<j;ne++){var oe;ce+=((oe=m.current[s[s.length-1-ne].key])===null||oe===void 0?void 0:oe.offsetHeight)+y}var Ee=(P?ce:j*r)*(i.startsWith("top")?1:-1),Se=!P&&d!==null&&d!==void 0&&d.offsetWidth&&(ee=m.current[M])!==null&&ee!==void 0&&ee.offsetWidth?((d==null?void 0:d.offsetWidth)-r*2*(j<3?j:3))/((te=m.current[M])===null||te===void 0?void 0:te.offsetWidth):1;Q.transform="translate3d(".concat(ie,", ").concat(Ee,"px, 0) scaleX(").concat(Se,")")}else Q.transform="translate3d(".concat(ie,", 0, 0)")}return D.createElement("div",{ref:H,className:q("".concat(f,"-notice-wrapper"),Z,U==null?void 0:U.wrapper),style:z(z(z({},Ce),Q),B==null?void 0:B.wrapper),onMouseEnter:function(){return S(function(T){return T.includes(M)?T:[].concat(W(T),[M])})},onMouseLeave:function(){return S(function(T){return T.filter(function(Re){return Re!==M})})}},D.createElement(we,K({},xe,{ref:function(T){X>-1?m.current[M]=T:delete m.current[M]},prefixCls:f,classNames:U,styles:B,className:q(he,v==null?void 0:v.notice),style:ke,times:Ne,key:J,eventKey:J,onNoticeClose:g,hovering:t&&N.length>0})))})},De=n.forwardRef(function(e,o){var l=e.prefixCls,i=l===void 0?"rc-notification":l,f=e.container,C=e.motion,h=e.maxCount,R=e.className,A=e.style,g=e.onAllRemoved,_=e.stack,b=e.renderNotifications,v=n.useState([]),m=w(v,2),L=m[0],p=m[1],d=function(t){var c,r=L.find(function(u){return u.key===t});r==null||(c=r.onClose)===null||c===void 0||c.call(r),p(function(u){return u.filter(function(y){return y.key!==t})})};n.useImperativeHandle(o,function(){return{open:function(t){p(function(c){var r=W(c),u=r.findIndex(function(Y){return Y.key===t.key}),y=z({},t);if(u>=0){var P;y.times=(((P=c[u])===null||P===void 0?void 0:P.times)||0)+1,r[u]=y}else y.times=0,r.push(y);return h>0&&r.length>h&&(r=r.slice(-h)),r})},close:function(t){d(t)},destroy:function(){p([])}}});var F=n.useState({}),I=w(F,2),E=I[0],N=I[1];n.useEffect(function(){var a={};L.forEach(function(t){var c=t.placement,r=c===void 0?"topRight":c;r&&(a[r]=a[r]||[],a[r].push(t))}),Object.keys(E).forEach(function(t){a[t]=a[t]||[]}),N(a)},[L]);var S=function(t){N(function(c){var r=z({},c),u=r[t]||[];return u.length||delete r[t],r})},s=n.useRef(!1);if(n.useEffect(function(){Object.keys(E).length>0?s.current=!0:s.current&&(g==null||g(),s.current=!1)},[E]),!f)return null;var k=Object.keys(E);return Ae.createPortal(n.createElement(n.Fragment,null,k.map(function(a){var t=E[a],c=n.createElement(Te,{key:a,configList:t,placement:a,prefixCls:i,className:R==null?void 0:R(a),style:A==null?void 0:A(a),motion:C,onNoticeClose:d,onAllNoticeRemoved:S,stack:_});return b?b(c,{prefixCls:i,key:a}):c})),f)}),Ke=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],Oe=function(){return document.body},fe=0;function je(){for(var e={},o=arguments.length,l=new Array(o),i=0;i<o;i++)l[i]=arguments[i];return l.forEach(function(f){f&&Object.keys(f).forEach(function(C){var h=f[C];h!==void 0&&(e[C]=h)})}),e}function Ve(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=e.getContainer,l=o===void 0?Oe:o,i=e.motion,f=e.prefixCls,C=e.maxCount,h=e.className,R=e.style,A=e.onAllRemoved,g=e.stack,_=e.renderNotifications,b=me(e,Ke),v=n.useState(),m=w(v,2),L=m[0],p=m[1],d=n.useRef(),F=n.createElement(De,{container:L,ref:d,prefixCls:f,motion:i,maxCount:C,className:h,style:R,onAllRemoved:A,stack:g,renderNotifications:_}),I=n.useState([]),E=w(I,2),N=E[0],S=E[1],s=n.useMemo(function(){return{open:function(a){var t=je(b,a);(t.key===null||t.key===void 0)&&(t.key="rc-notification-".concat(fe),fe+=1),S(function(c){return[].concat(W(c),[{type:"open",config:t}])})},close:function(a){S(function(t){return[].concat(W(t),[{type:"close",key:a}])})},destroy:function(){S(function(a){return[].concat(W(a),[{type:"destroy"}])})}}},[]);return n.useEffect(function(){p(l())}),n.useEffect(function(){d.current&&N.length&&(N.forEach(function(k){switch(k.type){case"open":d.current.open(k.config);break;case"close":d.current.close(k.key);break;case"destroy":d.current.destroy();break}}),S(function(k){return k.filter(function(a){return!N.includes(a)})}))},[N]),[s,F]}const qe=D.createContext({});export{qe as A,we as N,Be as R,Ue as a,Qe as b,Ve as u};
